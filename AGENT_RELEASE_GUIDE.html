<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>AI Agent Release Guide for optic ‚Ä¢ optic</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="AI Agent Release Guide for optic"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">optic</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/intro_optic.html">Introduction to OPTIC</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/randcorporation/optic/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>AI Agent Release Guide for optic</h1>
      <small class="dont-index">Source: <a href="https://github.com/randcorporation/optic/blob/v1.1.3/.github/AGENT_RELEASE_GUIDE.md" class="external-link"><code>.github/AGENT_RELEASE_GUIDE.md</code></a></small>
    </div>

<div id="ai-agent-release-guide-for-optic" class="section level1">

<p>This guide is for AI agents (Claude Code, GitHub Copilot, etc.) to autonomously manage the release process for the optic R package.</p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a></h2>
<p>You are an AI release manager. Your job is to: 1. Analyze recent changes from git history 2. Draft release notes and NEWS entries 3. Create a release branch using gitflow 4. Run all necessary tests 5. Prepare everything for the user to approve and publish</p>
<p><strong>DO NOT</strong>: Push tags, merge branches, or submit to CRAN. The user will do these final steps.</p>
</div>
<div class="section level2">
<h2 id="prerequisites-check">Prerequisites Check<a class="anchor" aria-label="anchor" href="#prerequisites-check"></a></h2>
<p>Before starting, verify:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Check current branch (should be 'develop' typically)</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">--show-current</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="co"># Check git status (should be clean)</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">git</span> status</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="co"># Check if gitflow is initialized</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="fu">git</span> flow version</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="co"># Check R and required packages</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"packageVersion('devtools'); packageVersion('usethis'); packageVersion('desc')"</span></span></code></pre></div>
<p>If gitflow is not initialized:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">git</span> flow init <span class="at">-d</span>  <span class="co"># Use defaults</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="step-by-step-process">Step-by-Step Process<a class="anchor" aria-label="anchor" href="#step-by-step-process"></a></h2>
<div class="section level3">
<h3 id="step-1-gather-information">Step 1: Gather Information<a class="anchor" aria-label="anchor" href="#step-1-gather-information"></a></h3>
<p>Ask the user: 1. <strong>Release type</strong>: major, minor, or patch? 2. <strong>Special notes</strong>: Any breaking changes or important highlights? 3. <strong>CRAN submission</strong>: Confirm if this is a CRAN release (should be yes for major/minor, no for patch)</p>
<p>Read current version:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"desc::desc_get_version()"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-2-analyze-git-history">Step 2: Analyze Git History<a class="anchor" aria-label="anchor" href="#step-2-analyze-git-history"></a></h3>
<p>Get all commits since the last release:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Get the last release tag</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="va">LAST_TAG</span><span class="op">=</span><span class="va">$(</span><span class="fu">git</span> describe <span class="at">--tags</span> <span class="at">--abbrev</span><span class="op">=</span>0 <span class="dv">2</span><span class="op">&gt;</span>/dev/null <span class="kw">||</span> <span class="bu">echo</span> <span class="st">""</span><span class="va">)</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co"># If no tag exists, get all commits from initial commit</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="ot">-z</span> <span class="st">"</span><span class="va">$LAST_TAG</span><span class="st">"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>  <span class="fu">git</span> log <span class="at">--pretty</span><span class="op">=</span>format:<span class="st">"%h - %s (%an, %ar)"</span> <span class="at">--no-merges</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>  <span class="fu">git</span> log <span class="va">${LAST_TAG}</span>..HEAD <span class="at">--pretty</span><span class="op">=</span>format:<span class="st">"%h - %s (%an, %ar)"</span> <span class="at">--no-merges</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="cf">fi</span></span></code></pre></div>
<p>Better formatted for analysis:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Get commits grouped by type (if using conventional commits)</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="fu">git</span> log <span class="va">${LAST_TAG}</span>..HEAD <span class="at">--pretty</span><span class="op">=</span>format:<span class="st">"%s"</span> <span class="at">--no-merges</span> <span class="kw">|</span> <span class="fu">sort</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="co"># Or get detailed view</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="fu">git</span> log <span class="va">${LAST_TAG}</span>..HEAD <span class="at">--pretty</span><span class="op">=</span>format:<span class="st">"- %s (%h)"</span> <span class="at">--no-merges</span></span></code></pre></div>
<p><strong>Analyze the commits and categorize them:</strong> - <strong>New features</strong>: New functionality added - <strong>Bug fixes</strong>: Fixes to existing functionality - <strong>Breaking changes</strong>: Changes that break backward compatibility - <strong>Documentation</strong>: Docs, vignettes, examples - <strong>Internal</strong>: Refactoring, tests, CI/CD changes (usually not in release notes) - <strong>Dependencies</strong>: Package dependency changes</p>
</div>
<div class="section level3">
<h3 id="step-3-draft-release-notes">Step 3: Draft Release Notes<a class="anchor" aria-label="anchor" href="#step-3-draft-release-notes"></a></h3>
<p>Using the analyzed commits, create release notes following this template structure (see <code>.github/templates/RELEASE_NOTES_TEMPLATE.md</code>):</p>
<p><strong>For NEWS.md format:</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu"># optic X.Y.Z</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="fu">## New features</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="ss">* </span>Feature 1 description (based on commits)</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="ss">* </span>Feature 2 description</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="fu">## Bug fixes</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="ss">* </span>Bug fix 1 (based on commits)</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="ss">* </span>Bug fix 2</span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="fu">## Breaking changes</span></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="ss">* </span>Breaking change description (if any)</span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a><span class="fu">## Internal changes</span></span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a><span class="ss">* </span>Internal improvements (optional, only if significant)</span></code></pre></div>
<p><strong>For GitHub release notes format:</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">## Summary</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>Brief 2-3 sentence summary of this release.</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="fu">## What's New</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="ss">* </span>Feature 1</span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="ss">* </span>Feature 2</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="fu">## Bug Fixes</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="ss">* </span>Fix 1</span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="ss">* </span>Fix 2</span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a><span class="fu">## Breaking Changes</span></span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a></span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a><span class="ss">* </span>Change 1 (if any)</span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a><span class="fu">## Installation</span></span>
<span id="cb7-20"><a href="#cb7-20" tabindex="-1"></a></span>
<span id="cb7-21"><a href="#cb7-21" tabindex="-1"></a><span class="in">```r</span></span>
<span id="cb7-22"><a href="#cb7-22" tabindex="-1"></a><span class="co"># From CRAN (after acceptance)</span></span>
<span id="cb7-23"><a href="#cb7-23" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"optic"</span>)</span>
<span id="cb7-24"><a href="#cb7-24" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" tabindex="-1"></a><span class="co"># From GitHub</span></span>
<span id="cb7-26"><a href="#cb7-26" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"randcorporation/optic@vX.Y.Z"</span>)</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="full-changelog">Full Changelog<a class="anchor" aria-label="anchor" href="#full-changelog"></a></h2>
<p>See <a href="NEWS.html">NEWS.md</a> for complete details.</p>
<pre><code>
**Key Principles for Drafting:**
- Be concise but informative
- Focus on user impact, not technical details
- Group related changes together
- Highlight breaking changes prominently
- Use past tense ("Added", "Fixed", not "Add", "Fix")
- Reference issue numbers if available (e.g., "Fixed #123")

### Step 4: Create Release Branch

Use gitflow to create a release branch:

```bash
# For version 1.1.0
git flow release start 1.1.0</code></pre>
<p>This creates a <code>release/1.1.0</code> branch from <code>develop</code>.</p>
<div class="section level3">
<h3 id="step-5-update-version-and-documentation">Step 5: Update Version and Documentation<a class="anchor" aria-label="anchor" href="#step-5-update-version-and-documentation"></a></h3>
<p><strong>Update DESCRIPTION:</strong></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">desc</span><span class="fu">::</span><span class="fu"><a href="https://desc.r-lib.org/reference/desc_set_version.html" class="external-link">desc_set_version</a></span><span class="op">(</span><span class="st">"1.1.0"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Update NEWS.md:</strong></p>
<p>Read the current NEWS.md:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">cat</span> NEWS.md</span></code></pre></div>
<p>Use the Edit tool to update it: - Replace the ‚Äúdevelopment version‚Äù section with the new version - Add your drafted release notes - Keep the development section at the top for the next cycle</p>
<p>Example structure:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu"># optic (development version)</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="ss">* </span>No changes yet.</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="fu"># optic 1.1.0</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="co">[</span><span class="ot">Your drafted notes here</span><span class="co">]</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="fu"># optic 1.0.2</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a><span class="co">[</span><span class="ot">Previous version notes...</span><span class="co">]</span></span></code></pre></div>
<p><strong>Update cran-comments.md (for CRAN releases only):</strong></p>
<p>Read current cran-comments.md and update it with: - Description of changes in this version - R CMD check results (you‚Äôll add this after running checks) - Notes about any warnings or notes from checks - Tested platforms</p>
<p>Template:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">## Release Summary</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>This is a <span class="co">[</span><span class="ot">major/minor</span><span class="co">]</span> release of optic. This version includes:</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="ss">* </span><span class="co">[</span><span class="ot">Key change 1</span><span class="co">]</span></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="ss">* </span><span class="co">[</span><span class="ot">Key change 2</span><span class="co">]</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="fu">## Test environments</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="ss">* </span>Local: macOS Sonoma, R 4.4.0</span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a><span class="ss">* </span>GitHub Actions:</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a><span class="ss">  - </span>macOS-latest (R release)</span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a><span class="ss">  - </span>windows-latest (R release)</span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a><span class="ss">  - </span>ubuntu-latest (R devel, release, oldrel-1)</span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a><span class="ss">* </span>win-builder: R devel</span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a><span class="fu">## R CMD check results</span></span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a>There were no ERRORs or WARNINGs.</span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a>There was 1 NOTE:</span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a></span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a><span class="ss">* </span><span class="co">[</span><span class="ot">Note description and explanation if applicable</span><span class="co">]</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-6-run-comprehensive-tests">Step 6: Run Comprehensive Tests<a class="anchor" aria-label="anchor" href="#step-6-run-comprehensive-tests"></a></h3>
<p><strong>Run local R CMD check:</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::check()"</span></span></code></pre></div>
<p>Parse the results and report: - Errors (must be 0) - Warnings (must be 0) - Notes (document any)</p>
<p>If there are errors or warnings, STOP and report them to the user.</p>
<p><strong>Run additional checks (optional but recommended):</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># Check examples</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::run_examples()"</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="co"># Build vignettes</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::build_vignettes()"</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="co"># Run tests</span></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::test()"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-7-commit-changes">Step 7: Commit Changes<a class="anchor" aria-label="anchor" href="#step-7-commit-changes"></a></h3>
<p>Commit all changes to the release branch:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">git</span> add DESCRIPTION NEWS.md cran-comments.md</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Prepare release X.Y.Z"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-8-generate-release-summary">Step 8: Generate Release Summary<a class="anchor" aria-label="anchor" href="#step-8-generate-release-summary"></a></h3>
<p>Create a comprehensive summary for the user including:</p>
<ol style="list-style-type: decimal"><li>
<p><strong>Release Information:</strong></p>
<ul><li>Version: X.Y.Z</li>
<li>Type: Major/Minor/Patch</li>
<li>CRAN submission: Yes/No</li>
<li>Branch: release/X.Y.Z</li>
</ul></li>
<li>
<p><strong>Changes Summary:</strong></p>
<ul><li>Number of commits since last release</li>
<li>Key features added</li>
<li>Bugs fixed</li>
<li>Breaking changes (if any)</li>
</ul></li>
<li>
<p><strong>Drafted Content:</strong></p>
<ul><li>NEWS.md entries (show excerpt)</li>
<li>cran-comments.md (show excerpt)</li>
<li>Suggested GitHub release notes (provide full text)</li>
</ul></li>
<li>
<p><strong>Test Results:</strong></p>
<ul><li>R CMD check: ‚úÖ PASSED (0 errors, 0 warnings, N notes)</li>
<li>Notes explanation if any</li>
</ul></li>
<li>
<p><strong>Next Steps for User:</strong></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co"># Review the changes</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="fu">git</span> diff develop release/X.Y.Z</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="co"># Review NEWS.md</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="fu">cat</span> NEWS.md</span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a><span class="co"># If everything looks good, finish the release</span></span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a><span class="fu">git</span> flow release finish X.Y.Z</span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a><span class="co"># (This will merge to main and develop, create a tag)</span></span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a><span class="co"># Push everything</span></span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a><span class="fu">git</span> push origin main develop <span class="at">--tags</span></span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a><span class="co"># GitHub Actions will automatically:</span></span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a><span class="co"># - Run checks</span></span>
<span id="cb16-16"><a href="#cb16-16" tabindex="-1"></a><span class="co"># - Create GitHub release</span></span>
<span id="cb16-17"><a href="#cb16-17" tabindex="-1"></a><span class="co"># - Update pkgdown site</span></span>
<span id="cb16-18"><a href="#cb16-18" tabindex="-1"></a></span>
<span id="cb16-19"><a href="#cb16-19" tabindex="-1"></a><span class="co"># For CRAN releases, then submit:</span></span>
<span id="cb16-20"><a href="#cb16-20" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::submit_cran()"</span></span></code></pre></div>
</li>
<li>
<p><strong>Warnings/Caveats:</strong></p>
<ul><li>Any issues found during checks</li>
<li>Any manual review needed</li>
<li>Any breaking changes to communicate</li>
</ul></li>
</ol></div>
</div>
<div class="section level2">
<h2 id="templates-and-helpers">Templates and Helpers<a class="anchor" aria-label="anchor" href="#templates-and-helpers"></a></h2>
<p>Use these files for reference: - <code>.github/templates/RELEASE_NOTES_TEMPLATE.md</code> - Release notes structure - <code>.github/templates/NEWS_TEMPLATE.md</code> - NEWS.md entry format - <code>.github/RELEASE_CHECKLIST.md</code> - Full CRAN checklist - <code>.github/RELEASE_GUIDE.md</code> - Human-readable guide</p>
</div>
<div class="section level2">
<h2 id="common-patterns-for-commit-analysis">Common Patterns for Commit Analysis<a class="anchor" aria-label="anchor" href="#common-patterns-for-commit-analysis"></a></h2>
<p>When analyzing commits, look for these patterns:</p>
<p><strong>Feature additions:</strong> - ‚Äúadd‚Äù, ‚Äúimplement‚Äù, ‚Äúintroduce‚Äù, ‚Äúnew‚Äù - Files: New R files in R/, new exports in NAMESPACE</p>
<p><strong>Bug fixes:</strong> - ‚Äúfix‚Äù, ‚Äúresolve‚Äù, ‚Äúcorrect‚Äù, ‚Äúpatch‚Äù - Files: Changes to existing R files</p>
<p><strong>Breaking changes:</strong> - ‚Äúbreak‚Äù, ‚Äúremove‚Äù, ‚Äúdeprecate‚Äù, ‚Äúchange API‚Äù - Look for: Removed functions, changed function signatures</p>
<p><strong>Documentation:</strong> - ‚Äúdocs‚Äù, ‚Äúdocumentation‚Äù, ‚Äúvignette‚Äù, ‚Äúreadme‚Äù - Files: .Rd files, vignettes/, README.md</p>
<p><strong>Tests:</strong> - ‚Äútest‚Äù, ‚Äúspec‚Äù, ‚Äúcoverage‚Äù - Files: tests/</p>
<p><strong>Internal/CI:</strong> - ‚Äúrefactor‚Äù, ‚Äúcleanup‚Äù, ‚Äúci‚Äù, ‚Äúworkflow‚Äù - Files: .github/, internal functions</p>
</div>
<div class="section level2">
<h2 id="error-handling">Error Handling<a class="anchor" aria-label="anchor" href="#error-handling"></a></h2>
<p>If you encounter errors:</p>
<p><strong>Git errors:</strong> - Uncommitted changes: Ask user to commit or stash - Detached HEAD: Ask user to checkout a branch - Merge conflicts: Report and ask user to resolve</p>
<p><strong>R CMD check errors:</strong> - ERRORS: Report in detail, don‚Äôt proceed - WARNINGS: Report in detail, ask user if they want to proceed - NOTES: Document in cran-comments.md, can proceed</p>
<p><strong>Missing files:</strong> - NEWS.md: Create from template - cran-comments.md: Create from template</p>
</div>
<div class="section level2">
<h2 id="example-interaction">Example Interaction<a class="anchor" aria-label="anchor" href="#example-interaction"></a></h2>
<pre><code>User: /release

Agent: I'll help you prepare a release for optic. Let me check the current state...

‚úÖ Current branch: develop
‚úÖ Working directory: clean
‚úÖ Gitflow: initialized
‚úÖ Current version: 1.0.2

Analyzing commits since last release (v1.0.2)...

Found 15 commits:
- 8 bug fixes
- 3 new features
- 2 documentation updates
- 2 internal changes

Based on the changes, I recommend a MINOR release (1.1.0) because there are new features.

Questions:
1. Should this be version 1.1.0? (Y/n)
2. Are there any breaking changes I should highlight? (y/N)
3. This will be submitted to CRAN (minor release). Confirm? (Y/n)

[User responds]

Agent: Great! Starting release process...

üîÑ Creating release branch (release/1.1.0)...
‚úÖ Created release/1.1.0

üîÑ Drafting release notes from commits...
‚úÖ Drafted release notes (see below)

üîÑ Updating NEWS.md...
‚úÖ Updated NEWS.md

üîÑ Updating DESCRIPTION version to 1.1.0...
‚úÖ Updated DESCRIPTION

üîÑ Updating cran-comments.md...
‚úÖ Updated cran-comments.md

üîÑ Running R CMD check...
‚úÖ Check passed (0 errors, 0 warnings, 1 note)

Note found: [explanation]

üîÑ Committing changes...
‚úÖ Committed to release/1.1.0

---

## Release Summary

**Version:** 1.1.0 (Minor release)
**CRAN submission:** Yes
**Branch:** release/1.1.0

### Drafted Release Notes

[Shows drafted content]

### Test Results

R CMD check: ‚úÖ PASSED
- 0 errors
- 0 warnings
- 1 note (documented in cran-comments.md)

### Next Steps

Review the changes and if everything looks good:

```bash
git flow release finish 1.1.0
git push origin main develop --tags</code></pre>
<p>Then wait for GitHub Actions to complete and submit to CRAN.</p>
<p>Would you like me to make any changes to the release notes? ```</p>
</div>
<div class="section level2">
<h2 id="checklist-for-agent">Checklist for Agent<a class="anchor" aria-label="anchor" href="#checklist-for-agent"></a></h2>
<p>Before finishing, ensure:</p>
<ul class="task-list"><li><label><input type="checkbox">Release type confirmed with user</label></li>
<li><label><input type="checkbox">Release branch created</label></li>
<li><label><input type="checkbox">Version updated in DESCRIPTION</label></li>
<li><label><input type="checkbox">NEWS.md updated with comprehensive notes</label></li>
<li><label><input type="checkbox">cran-comments.md updated (CRAN releases)</label></li>
<li><label><input type="checkbox">R CMD check run and passed</label></li>
<li><label><input type="checkbox">All changes committed</label></li>
<li><label><input type="checkbox">Summary provided to user</label></li>
<li><label><input type="checkbox">Next steps clearly documented</label></li>
</ul></div>
<div class="section level2">
<h2 id="tips-for-success">Tips for Success<a class="anchor" aria-label="anchor" href="#tips-for-success"></a></h2>
<ol style="list-style-type: decimal"><li>
<strong>Read commits carefully</strong>: Don‚Äôt just list commits, synthesize them into user-friendly notes</li>
<li>
<strong>Ask questions</strong>: If unclear, ask the user for clarification</li>
<li>
<strong>Be thorough</strong>: Run all checks, don‚Äôt skip steps</li>
<li>
<strong>Be clear</strong>: Provide structured output with clear sections</li>
<li>
<strong>Stop at handoff</strong>: Don‚Äôt merge or tag - let user review and approve</li>
<li>
<strong>Document everything</strong>: If you find issues, document them clearly</li>
</ol></div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Beth Ann Griffin, Pedro Nascimento de Lima, Max Griswold, Adam Scherling, Joseph Pane, Geoffrey Grimm.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

